<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout=http://www.ultraq.net.nz/thymeleaf/layout
      layout:decorate="trelloLayouts/trelloLayouts">
<body>

<div layout:fragment="trelloDetails">
    <form th:action="@{'/trelloS'}" method="post">

    <input class="form-control" name="id" th:value="${tasks.id}" type="hidden">
    
    <label>Title name:</label>
    <input class="form-control" th:value="${tasks.title}" type="text" name="title">

    <label>Description:</label>
    <input class="form-control" type="text" th:value="${tasks.description}" name="description">

    
                            <label>Status:</label>

                            <select th:if="${tasks.status==0}" class="form-control" name="status">
                                <option    value="0"  style="color: blue"   >To do</option>
                                <option   value="1" style="color: yellow"  >In test</option>
                                <option   value="2" style="color: green"  >Done</option>
                                <option   value="3" style="color: red"  >Failed</option>
                            </select>

        <select th:if="${tasks.status==1}" class="form-control" name="status">
            <option   value="1" style="color: yellow"  >In test</option>
            <option    value="0"  style="color: blue"   >To do</option>
            <option   value="2" style="color: green"  >Done</option>
            <option   value="3" style="color: red"  >Failed</option>
        </select>

        <select th:if="${tasks.status==2}" class="form-control" name="status">
            <option   value="2" style="color: green"  >Done</option>
            <option   value="1" style="color: yellow"  >In test</option>
            <option    value="0"  style="color: blue"   >To do</option>
            <option   value="3" style="color: red"  >Failed</option>
        </select>

        <select th:if="${tasks.status==3}" class="form-control" name="status">
            <option   value="3" style="color: red"  >Failed</option>
            <option   value="1" style="color: yellow"  >In test</option>
            <option    value="0"  style="color: blue"   >To do</option>
            <option   value="2" style="color: green"  >Done</option>
        </select>


    <input class="form-control" type="hidden" name="folder_id" th:value="${tasks.folders.id}">




        <div class="modal-footer">
            <button type="submit" class="btn btn-primary">Save changes</button>
        </div>
    </form>

    <form th:action="@{'/deleteTrello'}" method="post">
        <input type="hidden" class="form-control" name="id" th:value="${tasks!=null?tasks.id:''}">
        <input type="hidden" class="form-control" name="folder_id" th:value="${tasks!=null?tasks.folders.id:''}">
        <div class="form-group">
            <button type="submit" class="btn btn-danger">Delete</button>
        </div>
    </form>
</div>

<!--<div layout:fragment="trelloComments">-->

<!--    <button type="button" class="btn btn-light" data-bs-toggle="modal" data-bs-target="#exampleModal">-->
<!--        +New Comments-->
<!--    </button>-->

<!--    &lt;!&ndash; Modal &ndash;&gt;-->
<!--    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">-->
<!--        <form th:action="@{'/addCom'}" method="post">-->
<!--            <div class="modal-dialog">-->
<!--                <div class="modal-content">-->
<!--                    <div class="modal-header">-->
<!--                        <h1 class="modal-title fs-5" id="exampleModalLabel">ADD NEW TASKS</h1>-->
<!--                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>-->
<!--                    </div>-->
<!--                    <div class="modal-body">-->

<!--                        <label>Write you`re comments:</label><br>-->
<!--                        <input class="form-control" type="text" name="name">-->


<!--                        <input class="form-control" type="hidden"  name="tasks_id" th:value="${tasks.id}">-->


<!--                    </div>-->
<!--                    <div class="modal-footer">-->
<!--                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>-->
<!--                        <button type="submit" class="btn btn-success">Add Comments</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </form>-->
<!--    </div>-->


<!--    <div  th:each="cm: ${comments}" th:if="${tasks.id==cm.tasks.id}" class="card">-->
<!--        <div class="card-header">-->
<!--        </div>-->
<!--        <div class="card-body">-->
<!--            <h5 class="card-title" th:text="${cm.name}"></h5>-->
<!--        </div>-->
<!--    </div>-->

<!--</div>-->





</body>
</html>